{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Layout from '../../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport API_KEY from '../API_KEY';\n\nclass Index extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"handleChange\", e => {\n      const val = e.target.value;\n      this.setState({\n        isLoading: true\n      });\n      this.setState(state => {\n        if (this.state.search.length >= 3) this.getMovieList();\n        return {\n          search: val\n        };\n      });\n    });\n  }\n\n  static async getInitialProps(something) {\n    const res = await fetch(`http://www.omdbapi.com/?apikey=${API_KEY}&page=1&s=`);\n    const data = await res.json();\n    return {\n      movieList: data,\n      search: \"abc\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  render() {\n    const {\n      userAgent\n    } = this.props;\n    const {\n      movieList\n    } = this.props;\n    const {\n      search\n    } = this.props;\n    const {\n      isLoading\n    } = this.props;\n    const listing = movieList.length && movieList.map((item, index) => __jsx(\"div\", {\n      className: \"col-3\",\n      key: index\n    }, __jsx(\"div\", {\n      className: \"card\"\n    }, __jsx(\"img\", {\n      className: \"card-img-top\",\n      src: item.Poster,\n      alt: \"\"\n    }), __jsx(\"div\", {\n      className: \"card-body\"\n    }, __jsx(\"h6\", {\n      className: \"card-title\"\n    }, item.Title), __jsx(\"span\", {\n      className: \"badge badge-danger\"\n    }, item.Type), __jsx(\"a\", {\n      href: \"/\",\n      className: \"btn btn-primary\"\n    }, \"View Details\")))));\n    return __jsx(Layout, null, __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      minLength: \"3\",\n      value: search,\n      onChange: e => this.handleChange(e)\n    }), isLoading ? __jsx(\"div\", null, \"Loading\") : __jsx(\"div\", {\n      className: \"row\"\n    }, listing)));\n  }\n\n}\n/*\r\nconst Index = (props) => (\r\n    <Layout>\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n            {\r\n                (props.movieList.length) && props.movieList.map(item=>(\r\n                    <div className=\"col-4\" key={item.imdbID}>\r\n                        <div className=\"card\">\r\n                                <img  className=\"card-img-top\" src={item.Poster} alt=\"\" /> \r\n                            <div className=\"card-body\">\r\n                                <h3>{item.Title}</h3>\r\n                                <span className=\"badge bandge-danger\">{item.Type}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n            </div>\r\n            <input className=\"form-control\" type=\"search\" />\r\n        </div>\r\n    </Layout>\r\n)\r\n\r\nIndex.getInitialProps = async function(){\r\n    const res = await fetch(`http://www.omdbapi.com/?apikey=${API_KEY}&page=1&s=abc`);\r\n    const data = await res.json();\r\n    console.log(data)\r\n    return {\r\n        movieList: data.Search\r\n    };\r\n}*/\n\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}